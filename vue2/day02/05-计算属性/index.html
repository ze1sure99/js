<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>监听属性</title>
    <link href="./bootstrap.3.4.1.css" rel="stylesheet">
    <script src="./vue2.7.9.js"></script>
    <style>
    </style>
</head>
<body>
    <div id="root">
        <div class="container">
           <div class="panel panel-primary">
              <div class="panel-heading">
                <h3 class="panel-title">计算属性</h3>
              </div>
              <div class="panel-body">
                  价格:{{ obj.price }} 数量:{{obj.count}}
                  <button type="button" class="btn btn-xs btn-primary" @click="addEvt">增加</button>
                  <hr>
                  <p>
                    <!-- 总价:{{obj.price*obj.count}} -->
                    总价:{{amount}}
                  </p>
                  <p>
                    <button type="button" @click="getAmount" class="btn btn-xs btn-primary">获取总价</button>
                  </p>
                  <p>
                    <button type="button" @click="updateAmout" class="btn btn-xs btn-primary">修改amount值</button>
                  </p>
              </div>
           </div>
        </div>
    </div>
    <script>
      new Vue({
        el:"#root",
        //data下的一级能直接调用 比如 obj.price
        data:{
           obj:{
              price:100,
              count:1
           }

          },
          computed:{
            /*计算属性----计算几个数据得到一个结果，并缓存这个结果，所以计算属性是一个getters方法*/
              // amount:function(){
              //   return this.obj.price*this.obj.count
              // }
              amount:{
                //getter
                get:function(){
                  return this.obj.price*this.obj.count
                },
                //setter
                set:function(val){
                  //this.amount = val 属于递归
                  console.log(val,'调用setter方法')
                }
              }
          },
        methods: {
            addEvt:function(){
              this.obj.count++
            },
            getAmount:function(){
              //this.obj.price*this.obj.count
              // console.log(this.obj.price*this.obj.count)
              console.log(this.amount) 
            },
            updateAmout:function(){
              this.amount = 10000
            }

        },
        

      })    
    </script>
</body>
</html>